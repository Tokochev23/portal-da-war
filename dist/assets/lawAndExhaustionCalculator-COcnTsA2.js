function y(i,t){if(!i||!t)return console.error("Dados do país ou configuração de leis ausentes para o cálculo."),{};let e={};["mobilization","economic"].forEach(s=>{const o={currentLawId:i[s+"Law"],lawChange:i.lawChange&&i.lawChange.type===s?i.lawChange:null,config:t[s+"Laws"]};let n;o.lawChange?n=h(o.lawChange,o.config):n=u(o.currentLawId,o.config),Object.assign(e,n)});const r=i.warExhaustion||0;if(r>0){let s={};r>75?s={militaryCapacity:-.3,resourceProduction:-.2}:r>50?s={militaryCapacity:-.15,resourceProduction:-.1}:r>25&&(s={militaryCapacity:-.05});for(const o in s)e[o]?e[o]+=s[o]:e[o]=s[o]}return e}function u(i,t){const e=t[i];return e?{...e.bonuses,...e.penalties,consumptionModifiers:e.consumptionModifiers||{}}:{}}function h(i,t){const e=i.originLaw,d=i.targetLaw,r=i.progress,s=i.totalTurns,o=u(e,t),n=u(d,t),f=r/s,p=1-f,c={};return new Set([...Object.keys(o),...Object.keys(n)]).forEach(a=>{if(a==="consumptionModifiers"){c.consumptionModifiers={},new Set([...Object.keys(o.consumptionModifiers||{}),...Object.keys(n.consumptionModifiers||{})]).forEach(l=>{const m=o.consumptionModifiers?.[l]||0,M=n.consumptionModifiers?.[l]||0;c.consumptionModifiers[l]=m*p+M*f});return}const g=o[a]||0,w=n[a]||0;c[a]=g*p+w*f}),c}export{y as c};
