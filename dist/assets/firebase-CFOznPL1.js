const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/turnProcessor-Cr7QHs9b.js","assets/preload-helper-f85Crcwt.js","assets/consumerGoodsCalculator-DhUsjQdL.js","assets/turnEventsSystem-BRjpqv0e.js","assets/espionageOperationsSystem-C3ZeGfiF.js"])))=>i.map(i=>d[i]);
import{_ as M}from"./preload-helper-f85Crcwt.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js";class j{constructor(){this.createModalContainer()}createModalContainer(){if(document.getElementById("unified-modal-container"))return;const e=document.createElement("div");e.id="unified-modal-container",e.innerHTML=`
            <div id="message-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden" role="dialog" aria-modal="true">
                <div class="w-full max-w-md rounded-2xl bg-bg-soft border border-bg-ring/70 p-6">
                    <h2 id="modal-title" class="text-xl font-bold text-slate-100 mb-4"></h2>
                    <p id="modal-text" class="text-sm text-slate-300 mb-6"></p>
                    <div class="flex gap-3 justify-end">
                        <button id="modal-cancel-btn" class="px-4 py-2 rounded-xl border border-bg-ring/70 text-slate-300 hover:bg-white/5 transition-all" aria-label="Cancelar">Cancelar</button>
                        <button id="modal-ok-btn" class="px-4 py-2 rounded-xl bg-brand-500 text-slate-950 font-semibold hover:bg-brand-400 transition-all" aria-label="Confirmar">OK</button>
                    </div>
                </div>
            </div>`,document.body.appendChild(e)}show(e,t,r=!1){const o=document.getElementById("message-modal"),s=document.getElementById("modal-title"),n=document.getElementById("modal-text"),c=document.getElementById("modal-cancel-btn"),m=document.getElementById("modal-ok-btn");return!o||!s||!n||!c||!m?(console.error("Elementos do modal n√£o encontrados"),Promise.resolve(!1)):(s.textContent=e,n.textContent=t,c.style.display=r?"block":"none",o.classList.remove("hidden"),m.focus(),new Promise(d=>{const b=()=>{o.classList.add("hidden"),m.onclick=null,c.onclick=null,document.removeEventListener("keydown",g)},g=h=>{h.key==="Escape"&&(b(),d(!1))};m.onclick=()=>{b(),d(!0)},c.onclick=()=>{b(),d(!1)},document.addEventListener("keydown",g)}))}}const z=new j;function ne(a,e){return z.show(a,e,!0)}class v{static formatCurrency(e,t="USD",r="pt-BR"){const o=this.parseNumber(e);return isNaN(o)?t==="USD"?"$0":"0":new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(o)}static parseNumber(e){return typeof e=="number"?e:parseFloat(String(e).replace(/[^-0-9.,]/g,"").replace(",","."))}static formatNumber(e,t="pt-BR"){const r=this.parseNumber(e);return isNaN(r)?"0":new Intl.NumberFormat(t).format(r)}static formatPercent(e,t=1){const r=this.parseNumber(e);return isNaN(r)?"0%":`${r.toFixed(t)}%`}static formatCurrencyCompact(e,t="USD",r="pt-BR"){const o=this.parseNumber(e);return isNaN(o)?t==="USD"?"$0":"0":o<1e12?new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(o):new Intl.NumberFormat(r,{style:"currency",currency:t,notation:"compact",compactDisplay:"short",minimumFractionDigits:0,maximumFractionDigits:1}).format(o)}}function ie(a){return v.formatCurrency(a)}function ce(a){return v.formatCurrencyCompact(a)}class E{static isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static isStrongPassword(e){const r=/[A-Z]/.test(e),o=/[a-z]/.test(e),s=/\d/.test(e);return e.length>=8&&r&&o&&s}static sanitizeInput(e,t={}){const{allowHTML:r=!1,maxLength:o=null}=t;let s=String(e).trim();return r||(s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")),o&&s.length>o&&(s=s.substring(0,o)),s}static validateNumber(e,t=null,r=null){const o=v.parseNumber(e);return isNaN(o)?{valid:!1,error:"Valor deve ser um n√∫mero"}:t!==null&&o<t?{valid:!1,error:`Valor deve ser maior que ${t}`}:r!==null&&o>r?{valid:!1,error:`Valor deve ser menor que ${r}`}:{valid:!0,value:o}}}class O{constructor(){this.cache=new Map,this.timestamps=new Map}set(e,t,r=3e5){this.cache.set(e,t),this.timestamps.set(e,Date.now()+r)}get(e){const t=this.timestamps.get(e);return!t||Date.now()>t?(this.cache.delete(e),this.timestamps.delete(e),null):this.cache.get(e)}has(e){return this.get(e)!==null}clear(){this.cache.clear(),this.timestamps.clear()}async getOrFetch(e,t,r=3e5){let o=this.get(e);if(o===null)try{o=await t(),this.set(e,o,r)}catch(s){throw console.error(`Erro ao buscar dados para cache ${e}:`,s),s}return o}}class i{static levels={ERROR:0,WARN:1,INFO:2,DEBUG:3};static currentLevel=this.levels.INFO;static log(e,t,...r){if(e>this.currentLevel)return;const o=new Date().toISOString(),n=["ERROR","WARN","INFO","DEBUG"][e],c={timestamp:o,level:n,message:t,data:r};console.log(`${["üî¥","üü°","üîµ","üü£"][e]} [${o}] ${n}: ${t}`,...r);try{const d=JSON.parse(localStorage.getItem("war1954_logs")||"[]");d.push(c),d.length>100&&d.splice(0,50),localStorage.setItem("war1954_logs",JSON.stringify(d))}catch(d){console.error("Failed to store log:",d)}}static error(e,...t){this.log(this.levels.ERROR,e,...t)}static warn(e,...t){this.log(this.levels.WARN,e,...t)}static info(e,...t){this.log(this.levels.INFO,e,...t)}static debug(e,...t){this.log(this.levels.DEBUG,e,...t)}static getLogs(){try{return JSON.parse(localStorage.getItem("war1954_logs")||"[]")}catch{return[]}}static clearLogs(){localStorage.removeItem("war1954_logs")}}const p=new O;class L{static animateCounter(e,t,r={}){const{duration:o=1e3,locale:s="pt-BR",onComplete:n=null,easing:c="easeOutQuart"}=r,m=typeof e=="string"?document.getElementById(e):e;if(!m){console.warn(`Elemento n√£o encontrado: ${e}`);return}const d=parseInt(m.textContent.replace(/,/g,""))||0,b=t-d;if(b===0){n?.();return}const g=Date.now(),h={linear:l=>l,easeOutQuart:l=>1-Math.pow(1-l,4),easeInOutCubic:l=>l<.5?4*l*l*l:(l-1)*(2*l-2)*(2*l-2)+1},N=h[c]||h.easeOutQuart,y=()=>{const l=Date.now()-g,D=Math.min(l/o,1),_=N(D),$=d+b*_;m.textContent=Math.round($).toLocaleString(s),D<1?requestAnimationFrame(y):(m.textContent=Math.round(t).toLocaleString(s),n?.())};requestAnimationFrame(y)}static debounce(e,t,r=!1){let o;return function(...n){const c=()=>{o=null,r||e.apply(this,n)},m=r&&!o;clearTimeout(o),o=setTimeout(c,t),m&&e.apply(this,n)}}static throttle(e,t){let r;return function(...o){r||(e.apply(this,o),r=!0,setTimeout(()=>r=!1,t))}}static lazyLoadImages(e="img[data-src]"){const t=document.querySelectorAll(e),r=new IntersectionObserver(o=>{o.forEach(s=>{if(s.isIntersecting){const n=s.target;n.src=n.dataset.src,n.classList.remove("lazy-load"),r.unobserve(n)}})});t.forEach(o=>r.observe(o))}}function le(a,e){L.animateCounter(a,e)}try{window.DOMUtils=L}catch{}class U{constructor(){this.notifications=new Set,this.maxNotifications=5}show(e,t,r={}){const{duration:o=4e3,closable:s=!0,position:n="top-right",persistent:c=!1}=r,m={success:"bg-emerald-500/10 border-emerald-500/20 text-emerald-400",error:"bg-red-500/10 border-red-500/20 text-red-400",warning:"bg-yellow-500/10 border-yellow-500/20 text-yellow-400",info:"bg-blue-500/10 border-blue-500/20 text-blue-400"},d={success:"‚úì",error:"‚úï",warning:"‚ö†",info:"‚Ñπ"},b={"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4"},g=document.createElement("div");g.className=`fixed ${b[n]} z-50 px-4 py-3 rounded-xl border ${m[e]} animate-slide-up shadow-lg max-w-md`,g.setAttribute("role","alert"),g.setAttribute("aria-live","polite");const h=document.createElement("div");h.className="flex items-start gap-2";const N=document.createElement("span");N.className="text-lg flex-shrink-0",N.textContent=d[e]||d.info;const y=document.createElement("span");if(y.className="flex-1 text-sm",y.textContent=t,h.appendChild(N),h.appendChild(y),s){const l=document.createElement("button");l.className="ml-2 flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity",l.innerHTML="‚úï",l.setAttribute("aria-label","Fechar notifica√ß√£o"),l.onclick=()=>this.remove(g),h.appendChild(l)}if(g.appendChild(h),this.notifications.size>=this.maxNotifications){const l=Array.from(this.notifications)[0];this.remove(l)}return this.notifications.add(g),document.body.appendChild(g),!c&&o>0&&setTimeout(()=>this.remove(g),o),g}remove(e){!e||!this.notifications.has(e)||(e.style.transform="translateX(100%)",e.style.opacity="0",e.style.transition="all 0.3s ease",setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),this.notifications.delete(e)},300))}clear(){Array.from(this.notifications).forEach(e=>{this.remove(e)})}}const k=new U;function S(a,e,t){return k.show(a,e,t)}const C={apiKey:window.FIREBASE_API_KEY||"AIzaSyBd-cQsmXqgU9wVDtxYdaeLFQIfIUxv6GE",authDomain:window.FIREBASE_AUTH_DOMAIN||"war-1954-1799c.firebaseapp.com",projectId:window.FIREBASE_PROJECT_ID||"war-1954-1799c",storageBucket:window.FIREBASE_STORAGE_BUCKET||"war-1954-1799c.firebasestorage.app",messagingSenderId:window.FIREBASE_MESSAGING_SENDER_ID||"147967902110",appId:window.FIREBASE_APP_ID||"1:147967902110:web:2e2a54b98ef9474d7a968f",measurementId:window.FIREBASE_MEASUREMENT_ID||"G-LQNDE985RB",databaseURL:window.FIREBASE_DATABASE_URL||void 0};function q(a){const e=["apiKey","authDomain","projectId"];for(const t of e)if(!a[t])throw new Error(`Configura√ß√£o Firebase inv√°lida: ${t} √© obrigat√≥rio`);return a}if(!C.databaseURL&&C.projectId)try{const a=C.projectId;C.databaseURL=`https://${a}-default-rtdb.firebaseio.com/`}catch{}const V=q(C),I={maxLoginAttempts:3,rateLimiting:{windowMs:900*1e3}};let F,x,u,T,f,R=new Map;class w{static getErrorMessage(e){const t={"auth/user-not-found":"Usu√°rio n√£o encontrado. Verifique o email.","auth/wrong-password":"Senha incorreta. Tente novamente.","auth/email-already-in-use":"Este email j√° est√° em uso.","auth/weak-password":"A senha √© muito fraca. Use pelo menos 6 caracteres.","auth/invalid-email":"Email inv√°lido. Verifique o formato.","auth/too-many-requests":"Muitas tentativas. Tente novamente mais tarde.","auth/network-request-failed":"Erro de conex√£o. Verifique sua internet.","permission-denied":"Acesso negado. Verifique suas permiss√µes.",unavailable:"Servi√ßo temporariamente indispon√≠vel.",cancelled:"Opera√ß√£o cancelada.","deadline-exceeded":"Tempo limite excedido. Tente novamente.","not-found":"Documento n√£o encontrado.","already-exists":"Documento j√° existe.","resource-exhausted":"Limite de requisi√ß√µes excedido.","failed-precondition":"Condi√ß√£o pr√©via falhou.",aborted:"Opera√ß√£o abortada.","out-of-range":"Valor fora do intervalo permitido.",unimplemented:"Funcionalidade n√£o implementada.",internal:"Erro interno do servidor.","data-loss":"Perda de dados detectada."},r=e.code||e.message;return t[r]||`Erro: ${e.message||"Erro desconhecido"}`}static handleError(e,t="opera√ß√£o"){const r=this.getErrorMessage(e);return i.error(`Firebase ${t} failed:`,e),S("error",r,{duration:6e3}),{success:!1,error:e,message:r}}}function A(a){const e=Date.now(),r=(R.get(a)||[]).filter(o=>e-o<I.rateLimiting.windowMs);if(r.length>=I.maxLoginAttempts)throw new Error("too-many-requests");r.push(e),R.set(a,r)}try{f=window.firebase,F=f.initializeApp(V),x=f.auth(),u=f.firestore(),T=f.storage(),u.enablePersistence({synchronizeTabs:!0}).catch(a=>i.warn("N√£o foi poss√≠vel habilitar persist√™ncia:",a)),i.info("Firebase inicializado com sucesso")}catch(a){i.error("Erro cr√≠tico ao inicializar Firebase:",a),S("error","Erro cr√≠tico: N√£o foi poss√≠vel conectar ao servidor. Recarregue a p√°gina.",{persistent:!0})}const P=new f.auth.GoogleAuthProvider;P.addScope("profile");P.addScope("email");window.db=u;window.auth=x;async function G(a,e,t){try{if(!E.isValidEmail(a))throw new Error("invalid-email");if(!E.isStrongPassword(e))throw new Error("weak-password");const r=E.sanitizeInput(t,{maxLength:100});if(!r||r.length<2)throw new Error("Nome deve ter pelo menos 2 caracteres");A(a.toLowerCase());const s=(await x.createUserWithEmailAndPassword(a.toLowerCase(),e)).user;return await s.updateProfile({displayName:r}),await u.collection("usuarios").doc(s.uid).set({nome:r,email:a.toLowerCase(),papel:"jogador",dataIngresso:f.firestore.Timestamp.now(),ultimoLogin:f.firestore.Timestamp.now(),ativo:!0,versaoTermos:"1.0",configuracoes:{notificacoes:!0,tema:"dark"}}),i.info("Registro realizado com sucesso",{uid:s.uid,email:s.email}),{success:!0,user:s}}catch(r){return w.handleError(r,"registro")}}async function K(a,e){try{if(!E.isValidEmail(a))throw new Error("invalid-email");if(!e||e.length<6)throw new Error("wrong-password");A(a.toLowerCase());const t=await x.signInWithEmailAndPassword(a.toLowerCase(),e);try{await u.collection("usuarios").doc(t.user.uid).update({ultimoLogin:f.firestore.Timestamp.now()})}catch(r){i.warn("N√£o foi poss√≠vel atualizar √∫ltimo login:",r)}return i.info("Login realizado com sucesso",{uid:t.user.uid,email:t.user.email}),{success:!0,user:t.user}}catch(t){return w.handleError(t,"login")}}async function B(a,e=!0){if(!a)return i.warn("checkUserPermissions: userId √© obrigat√≥rio"),{isNarrator:!1,isAdmin:!1,isPlayer:!0};const t=`permissions-${a}`;try{if(e){const s=p.get(t);if(s)return i.debug(`Permiss√µes do usu√°rio ${a} carregadas do cache`),s}const r=await u.collection("usuarios").doc(a).get();let o={isNarrator:!1,isAdmin:!1,isPlayer:!0,role:"jogador"};if(r.exists){const s=r.data(),n=s.papel||"jogador";o={isNarrator:n==="narrador"||n==="admin",isAdmin:n==="admin",isPlayer:n==="jogador"||n==="narrador"||n==="admin",role:n,ativo:s.ativo!==!1}}return p.set(t,o,6e5),i.debug(`Permiss√µes verificadas para ${a}:`,o),o}catch(r){return i.error("Erro ao verificar permiss√µes:",r),{isNarrator:!1,isAdmin:!1,isPlayer:!0,role:"jogador"}}}async function W(a,e=!0){if(!a)return i.warn("checkPlayerCountry: userId √© obrigat√≥rio"),null;const t=`player-country-${a}`;try{if(e){const s=p.get(t);if(s!==null)return i.debug(`Pa√≠s do jogador ${a} carregado do cache: ${s}`),s}const r=await u.collection("usuarios").doc(a).get();let o=null;return r.exists&&(o=r.data().paisId||null),p.set(t,o,3e5),i.debug(`Pa√≠s do jogador ${a}: ${o||"nenhum"}`),o}catch(r){return i.error("Erro ao verificar pa√≠s do jogador:",r),null}}async function H(a=!0){const e="all-countries";try{if(a){const s=p.get(e);if(s)return i.debug("Pa√≠ses carregados do cache"),s}const r=await u.collection("paises").get();if(r.empty)return i.warn("Nenhum pa√≠s encontrado na cole√ß√£o"),[];const o=r.docs.map(s=>{const n=s.data(),c={id:s.id,...n,Pais:E.sanitizeInput(n.Pais||"",{maxLength:100}),PIB:Math.max(0,v.parseNumber(n.PIB)||0)};if(c.Carvao===void 0&&(c.Carvao=0),c.PotencialCarvao===void 0)switch(c.Pais){case"Alemanha":c.PotencialCarvao=10;break;case"Reino Unido":c.PotencialCarvao=9;break;case"Brasil":c.PotencialCarvao=4;break;default:c.PotencialCarvao=5}return c.power_plants===void 0&&(c.power_plants=[]),c.PotencialHidreletrico===void 0&&(c.PotencialHidreletrico=5),c});return p.set(e,o,3e5),i.info(`${o.length} pa√≠ses carregados com sucesso`),o}catch(t){return w.handleError(t,"carregamento de pa√≠ses"),[]}}async function J(a,e=!0){if(!a)return i.warn("getCountryData: paisId √© obrigat√≥rio"),null;const t=`country-${a}`;try{if(e){const n=p.get(t);if(n)return i.debug(`Dados do pa√≠s ${a} carregados do cache`),n}const r=await u.collection("paises").doc(a).get();if(!r.exists)return i.warn(`Pa√≠s ${a} n√£o encontrado`),null;const o=r.data(),s={...o,Pais:E.sanitizeInput(o.Pais||"",{maxLength:100}),PIB:Math.max(0,v.parseNumber(o.PIB)||0),Estabilidade:Math.max(0,Math.min(100,v.parseNumber(o.Estabilidade)||0))};return p.set(t,s,18e4),i.debug(`Dados do pa√≠s ${a} carregados com sucesso`),s}catch(r){return w.handleError(r,`carregamento do pa√≠s ${a}`),null}}async function Q(a=!0){const e="game-config";try{if(a){const o=p.get(e);if(o)return i.debug("Configura√ß√£o do jogo carregada do cache"),o}const t=await u.collection("configuracoes").doc("jogo").get();let r=null;return t.exists&&(r=t.data(),r.turnoAtual!==void 0&&(r.turnoAtual=Math.max(0,parseInt(r.turnoAtual)||0))),p.set(e,r,12e4),i.debug("Configura√ß√£o do jogo carregada:",r),r}catch(t){return i.error("Erro ao carregar configura√ß√£o do jogo:",t),null}}async function Y(){try{const a=await u.collection("configuracoes").doc("regrasDinamicas").get();return a.exists?(i.debug("Regras din√¢micas carregadas do Firestore"),a.data()):(i.debug("Nenhum documento de regras din√¢micas encontrado, usando objeto vazio."),{})}catch(a){return w.handleError(a,"carregamento de regras din√¢micas"),{}}}async function X(a,e=null){try{const t=parseInt(a);if(isNaN(t)||t<0)throw new Error("N√∫mero do turno inv√°lido");if(e){const o=await B(e,!1);if(!o.isNarrator&&!o.isAdmin)throw new Error("Acesso negado: apenas narradores podem atualizar turnos")}const r={turnoAtual:t,ultimaAtualizacao:f.firestore.Timestamp.now()};e&&(r.ultimoEditor=e),await u.collection("configuracoes").doc("jogo").set(r,{merge:!0});try{const{default:o}=await M(async()=>{const{default:n}=await import("./turnProcessor-Cr7QHs9b.js");return{default:n}},__vite__mapDeps([0,1,2,3,4]));if(await o.isTurnProcessed(t))i.info(`Turno ${t} j√° foi processado anteriormente`);else{i.info(`Iniciando processamento autom√°tico do turno ${t}`);const n=await o.processTurnEnd(t);i.info(`Processamento do turno ${t} conclu√≠do`,n)}}catch(o){i.error("Erro no processamento autom√°tico do turno:",o),console.warn("‚ö†Ô∏è Erro no processamento autom√°tico, mas turno foi atualizado")}return p.clear(),i.info(`Turno atualizado para #${t}`,{userId:e,newTurn:t}),{success:!0,turno:t}}catch(t){return w.handleError(t,"atualiza√ß√£o de turno")}}async function Z(){try{A("google-login");const e=(await x.signInWithPopup(P)).user;if(!e.email||!E.isValidEmail(e.email))throw new Error("Email inv√°lido recebido do Google");const t=u.collection("usuarios").doc(e.uid),r=await t.get(),o={nome:E.sanitizeInput(e.displayName||"Usu√°rio",{maxLength:100}),email:e.email.toLowerCase(),photoURL:e.photoURL||null,ultimoLogin:f.firestore.Timestamp.now(),ativo:!0,versaoTermos:"1.0"};return r.exists?(r.data()||{}).papel||(o.papel="jogador"):(o.dataIngresso=f.firestore.Timestamp.now(),o.papel="jogador"),await t.set(o,{merge:!0}),i.info("Login Google (preservando papel) realizado com sucesso",{uid:e.uid,email:e.email}),{success:!0,user:e}}catch(a){return w.handleError(a,"login com Google (preservar papel)")}}async function ee(a,e){if(!a||!e){const t=new Error("userId e paisId s√£o obrigat√≥rios");return w.handleError(t,"vincula√ß√£o jogador-pa√≠s (preservar papel)")}try{const t=await u.collection("paises").doc(e).get();if(!t.exists)throw new Error("Pa√≠s n√£o encontrado");if(t.data().Player)throw new Error("Pa√≠s j√° possui um jogador");return await u.runTransaction(async o=>{o.update(u.collection("paises").doc(e),{Player:a,DataVinculacao:f.firestore.Timestamp.now()}),o.set(u.collection("usuarios").doc(a),{paisId:e,ultimaAtualizacao:f.firestore.Timestamp.now(),ativo:!0},{merge:!0})}),p.clear(),i.info("Jogador vinculado ao pa√≠s (preservando papel) com sucesso",{userId:a,paisId:e}),{success:!0}}catch(t){return w.handleError(t,"vincula√ß√£o jogador-pa√≠s (preservar papel)")}}const ue=Object.freeze(Object.defineProperty({__proto__:null,get app(){return F},get auth(){return x},checkPlayerCountry:W,checkUserPermissions:B,get db(){return u},getAllCountries:H,getCountryData:J,getCustomRules:Y,getGameConfig:Q,googleProvider:P,registerWithEmailPassword:G,signInWithEmailPassword:K,signInWithGooglePreserveRole:Z,get storage(){return T},updateTurn:X,vincularJogadorAoPaisSemRebaixar:ee},Symbol.toStringTag,{value:"Module"}));export{i as L,E as V,x as a,S as b,K as c,B as d,Q as e,W as f,H as g,u as h,J as i,ie as j,ce as k,le as l,ne as m,Y as n,ue as o,G as r,Z as s,X as u,ee as v};
