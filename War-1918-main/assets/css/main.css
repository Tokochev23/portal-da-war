:root{
  --bg-0:#0a1117; --bg-1:#0f1720; --bg-2:#121c26;
  --card-0:#0b1520; --card-1:#0e1924; --stroke:#233040;
  --ink:#e5edf4; --muted:#9fb3c6;
  --accent:#77b3ff; --accent-warsaw:#e36b6b; --accent-neutral:#f5c06f;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  color:var(--ink);
  background: radial-gradient(1200px 700px at 20% -10%, #17202a 0%, var(--bg-1) 60%, var(--bg-0) 100%);
}

/* textura blueprint sutil */
body::before{
  content:"";position:fixed;inset:0;pointer-events:none;z-index:-1;opacity:.8;
  background:
    linear-gradient(rgba(255,255,255,.02), rgba(0,0,0,.02)),
    repeating-linear-gradient(0deg, rgba(255,255,255,.03) 0 1px, transparent 1px 40px),
    repeating-linear-gradient(90deg, rgba(255,255,255,.03) 0 1px, transparent 1px 40px);
}

/* Banner de época */
.era-banner{
  display:flex;gap:12px;align-items:center;justify-content:center;
  padding:8px 12px;margin:14px auto 0;width:fit-content;
  font-family:'Stardos Stencil',system-ui;letter-spacing:.08em;font-size:13px;
  color:#c2c8cf;background:#0b1520;border:1px dashed #34465a;border-radius:999px;
  box-shadow:0 6px 18px rgba(0,0,0,.35)
}
.era-banner.compact{margin-bottom:6px}
.era-banner .era-tape{width:38px;height:6px;background:repeating-linear-gradient(90deg,#8394a5 0 6px,#0b1520 6px 12px);border-radius:2px;opacity:.6}
.era-banner .era-text{text-transform:uppercase;opacity:.9}

/* Container e cabeçalho */
.container{
  max-width:1100px;margin:18px auto;padding:18px 18px 28px;
  background:linear-gradient(180deg, rgba(19,29,39,.85), rgba(10,17,23,.95));
  border:1px solid var(--stroke);border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.03)
}
.header{
  display:flex;align-items:flex-end;justify-content:space-between;gap:16px;
  padding:8px 6px 16px;border-bottom:1px solid var(--stroke);
  background:linear-gradient(180deg,#121c26,#0c151e);border-radius:12px 12px 0 0
}
.header h1{
  margin:0;font-family:'Stardos Stencil',system-ui;font-weight:700;letter-spacing:.04em;color:#e9f2fa
}
.header p{margin:2px 0 0;color:var(--muted)}

/* Grid principal */
.grid{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;margin-top:16px}
.form-sections {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Cards/seções */
.form-section{
  background:linear-gradient(180deg,#0b1520,#0a131c);
  border:1px solid var(--stroke);border-left:3px solid var(--accent);
  border-radius:14px;padding:16px;
  box-shadow:0 10px 24px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.02)
}
.form-section h3{margin:0 0 10px;color:#d7e7f7;font-weight:800;letter-spacing:.02em}

/* Controles */
label{display:block;font-size:13px;color:var(--muted);margin:12px 0 6px}
input[type="text"],input[type="number"],input[type="range"],select,textarea{
  width:100%;padding:10px 12px;border-radius:10px;color:var(--ink);
  background:#0e1924;border:1px solid #2b3a49;box-shadow:inset 0 1px 2px rgba(0,0,0,.35)
}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(119,179,255,.12)}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.row3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.inline{display:flex;align-items:center;gap:10px}

/* Resumo */
.summary-panel{
  background:linear-gradient(180deg,#0b1520,#0a131c);border:1px solid var(--stroke);border-radius:14px;padding:16px;
  height: fit-content;
  position: sticky;
  top: 20px;
}
.summary-panel h3{margin:0 0 10px;color:#d7e7f7}
.summary-item{display:flex;justify-content:space-between;border-bottom:1px dashed #263547;padding:8px 0;font-size:14px}
.summary-item.total{color:var(--accent);font-weight:700}

/* Status pills */
.pill{padding:6px 10px;border-radius:12px;border:1px solid transparent;font-size:12px}
.ok{background:rgba(37,87,54,.25);color:#a7e3bd;border-color:#2f6a45}
.warn{background:rgba(120,86,0,.2);color:#ffd281;border-color:#7c5619}
.err{background:rgba(122,23,23,.22);color:#ffb8b8;border-color:#6a2b2b}
.status{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}

/* Blueprint preview */
.blueprint-section{
  background:linear-gradient(180deg,#0c1621,#0a121b);border:1px solid #2a3a4b;border-radius:14px;padding:12px;text-align:center
}
.blueprint-section .mock{height:200px;border:1px solid #2a3a4b;border-radius:10px;display:grid;place-items:center;margin:6px 0 0;color:#a7d0ff;letter-spacing:.2em}

/* Botões */
.buttons{display:flex;gap:10px;margin-top:16px}
.btn,.button,.save-button,.back-button{
  background:linear-gradient(180deg,#1b2836,#0d1620);color:var(--ink);
  border:1px solid #2b3a4b;border-radius:10px;padding:10px 16px;font-weight:700;cursor:pointer;
  box-shadow:0 6px 16px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
  transition:transform .05s ease, box-shadow .2s ease, border-color .2s ease
}
.btn:hover,.button:hover,.save-button:hover,.back-button:hover{transform:translateY(-1px);border-color:var(--accent);box-shadow:0 10px 22px rgba(0,0,0,.45)}

/* Doutrina → cor de acento */
body.doctrine-qualitative .form-section{border-left-color:var(--accent)}
body.doctrine-quantitative .form-section{border-left-color:var(--accent-warsaw)}
body.doctrine-regional .form-section{border-left-color:var(--accent-neutral)}

/* Pills de status do resumo */
#status.status-ok .pill.ok { display: inline-block; }
#status.status-warn .pill.warn { display: inline-block; }
#status.status-error .pill.err { display: inline-block; }
#status .pill { display: none; }

/* Auxiliares */
.muted{color:var(--muted)}
.item-row { display: flex; align-items: center; justify-content: space-between; background: #0f1b26; padding: 10px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,.05); margin-bottom: 8px; }
.item-row input[type="number"] { width: 70px; text-align: center; }
.item-row label { margin: 0; flex-grow: 1; }

/* Responsivo */
@media (max-width: 920px){
  .grid{grid-template-columns:1fr}
}

/* Impressão (limpo) */
@media print{
  body,.container,.form-section,.summary-panel{background:#fff !important;color:#000 !important;box-shadow:none !important}
  .era-banner,.buttons,.blueprint-section{display:none}
  .form-section,.summary-panel{border-color:#ccc}
}
